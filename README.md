# DigiLife (デジタル生命体シミュレーション)

DigiLifeは、仮想生命体の状態（エネルギー、社交性、整合性）をシミュレーションし、ユーザーが対話的にケアを行うことができるWebアプリケーションです。

## 機能
*   **パラメータシミュレーション**: エネルギー、社交性、整合性の3つのパラメータが時間とともに減衰します。
*   **リアルタイム更新**: バックエンドでの状態変化がWebSocketを通じてフロントエンドに即座に反映されます。
*   **インタラクション**:
    *   **食事(Web検索)**: 実際のWeb検索を行い、取得した情報量（トークン数）に応じてエネルギーを回復します。
    *   **会話**: 社交性を回復しますが、エネルギーを消費します。
    *   **睡眠**: 整合性を回復し、エネルギーを消費します。
*   **自律行動**: 危機的状況（パラメータ低下）においては、生命体が自律的に回復アクションを行います。
*   **トークンベースエネルギー**: エネルギーは「知識トークン」として管理され、検索行為によって補充されます。
*   **自動化された起動/終了**: スクリプトによる簡単なアプリケーション起動と終了が可能です。

## 技術スタック
*   **Backend**: Python (FastAPI), WebSockets, DuckDuckGo Search, TikToken
*   **Frontend**: React, Vite, Vanilla CSS

## 実行方法

### 推奨: 一括起動
プロジェクトルートにある `start_digilife.vbs` をダブルクリックしてください。
バックエンドとフロントエンドがバックグラウンドで起動し、自動的にブラウザが開きます。

**終了時**:
`stop_digilife.bat` を実行して、バックグラウンドプロセスを停止してください。
（ブラウザのメインタブを閉じると3秒後に自動終了する機能も搭載されています）

### 手動起動
**バックエンド**:
```bash
cd backend
pip install -r requirements.txt
uvicorn main:app --reload
```

**フロントエンド**:
```bash
cd frontend
npm install
npm run dev
```

## 仕様詳細
詳細な仕様については、[SPECIFICATION.md](./SPECIFICATION.md) を参照してください。
現在の設定では、社交性の閾値は50%、エネルギーと整合性の閾値は20%となっています。
